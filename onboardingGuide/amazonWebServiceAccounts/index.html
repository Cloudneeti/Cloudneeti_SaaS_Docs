<!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content="Cloudneeti Documentation"><meta name="author" content="The Cloudneeti Team"><meta name="lang:clipboard.copy" content="Copy to clipboard"><meta name="lang:clipboard.copied" content="Copied to clipboard"><meta name="lang:search.language" content="en"><meta name="lang:search.pipeline.stopwords" content="True"><meta name="lang:search.pipeline.trimmer" content="True"><meta name="lang:search.result.none" content="No matching documents"><meta name="lang:search.result.one" content="1 matching document"><meta name="lang:search.result.other" content="# matching documents"><meta name="lang:search.tokenizer" content="[\s\-]+"><link rel="shortcut icon" href="../../assets/images/favicon.png"><meta name="generator" content="mkdocs-1.1.2, mkdocs-material-4.3.1"><title>Onboarding steps - Documentation</title><link rel="stylesheet" href="../../assets/stylesheets/application.4031d38b.css"><link rel="stylesheet" href="../../assets/stylesheets/application-palette.224b79ff.css"><meta name="theme-color" content=""><script src="../../assets/javascripts/modernizr.74668098.js"></script><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,400i,700|&display=swap"><style>body,input{font-family:"Poppins","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"","Courier New",Courier,monospace}</style><link rel="stylesheet" href="../../assets/fonts/material-icons.css"><link rel="stylesheet" href="../../stylesheets/extra.css"><script>window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-149855644-1", "docs.cloudneeti.com")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })</script><script async src="https://www.google-analytics.com/analytics.js"></script></head><body dir="ltr" data-md-color-primary="cloudneeti" data-md-color-accent="cloudneeti"><svg class="md-svg"><defs></defs></svg> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" data-md-component="overlay" for="__drawer"></label><a href="#aws-accounts-onboarding-guide" tabindex="1" class="md-skip">Skip to content </a><header class="md-header" data-md-component="header"><nav class="md-header-nav md-grid"><div class="md-flex"><div class="md-flex__cell md-flex__cell--shrink"><a href="../.." title="Documentation" class="md-header-nav__button md-logo md-custom-logo"><img src="../../images/logo.png" width="170" height="40"></a></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label></div><div class="md-flex__cell md-flex__cell--stretch"><div class="md-flex__ellipsis md-header-nav__title" data-md-component="title"><!--<span class="md-header-nav__topic"><a href="../..">Documentation</a></span><span class="md-header-nav__topic">Onboarding steps</span>--></div></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--search md-header-nav__button" for="__search"></label><div class="md-search" data-md-component="search" role="dialog"><label class="md-search__overlay" for="__search"></label><div class="md-search__inner" role="search"><form class="md-search__form" name="search"><input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active"> <label class="md-icon md-search__icon" for="__search"></label> <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button></form><div class="md-search__output"><div class="md-search__scrollwrap" data-md-scrollfix><div class="md-search-result" data-md-component="result"><div class="md-search-result__meta">Type to start searching</div><ol class="md-search-result__list"></ol></div></div></div></div></div></div></div></nav></header><div class="md-container"><main class="md-main"><div class="md-main__inner md-grid" data-md-component="container"><div class="md-sidebar md-sidebar--primary" data-md-component="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary" data-md-level="0"><label class="md-nav__title md-nav__title--site" for="__drawer"><a href="../.." title="Documentation" class="md-nav__button md-logo"><img src="../../images/logo.png" width="48" height="48"></a>Documentation</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1"><label class="md-nav__link" for="nav-1">Introduction</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-1">Introduction</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../gettingStarted/introduction/" title="Getting Started" class="md-nav__link">Getting Started</a></li><li class="md-nav__item"><a href="../../gettingStarted/productFeatures/" title="Product Features" class="md-nav__link">Product Features</a></li><li class="md-nav__item"><a href="../../gettingStarted/howItWorks/" title="How it works" class="md-nav__link">How it works</a></li><li class="md-nav__item"><a href="../../gettingStarted/cloudSecurityBestPractices/" title="Cloud Security Best Practices" class="md-nav__link">Cloud Security Best Practices</a></li><li class="md-nav__item"><a href="../../gettingStarted/deploymentArchitecture/" title="Deployment Architecture" class="md-nav__link">Deployment Architecture</a></li><li class="md-nav__item"><a href="../../gettingStarted/customerDataSecurity/" title="Customer Data Security" class="md-nav__link">Customer Data Security</a></li><li class="md-nav__item"><a href="../../gettingStarted/glossary/" title="Glossary" class="md-nav__link">Glossary</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2"><label class="md-nav__link" for="nav-2">Try and Buy</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-2">Try and Buy</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../tryAndBuy/freeTrial/" title="Free Trial" class="md-nav__link">Free Trial</a></li><li class="md-nav__item"><a href="../../tryAndBuy/subscribeOnAzureMarketplace/" title="Buy on Azure Marketplace" class="md-nav__link">Buy on Azure Marketplace</a></li><li class="md-nav__item"><a href="../../tryAndBuy/subscribe/" title="Request a License" class="md-nav__link">Request a License</a></li><li class="md-nav__item"><a href="../../tryAndBuy/partnerCobranding/" title="Partner co-branding" class="md-nav__link">Partner co-branding</a></li><li class="md-nav__item"><a href="../../tryAndBuy/estimatePricing/" title="Estimate Pricing" class="md-nav__link">Estimate Pricing</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3"><label class="md-nav__link" for="nav-3">Security Policies</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-3">Security Policies</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../gettingStarted/cloudSecurityBestPractices/" title="Cloud Security Best Practices" class="md-nav__link">Cloud Security Best Practices</a></li><li class="md-nav__item"><a href="../../securityPolicies/awsSecurityPolcies/" title="AWS Security Policies" class="md-nav__link">AWS Security Policies</a></li><li class="md-nav__item"><a href="../../securityPolicies/azureSecurityPolcies/" title="Azure Security Policies" class="md-nav__link">Azure Security Policies</a></li><li class="md-nav__item"><a href="../../securityPolicies/gcp_SecurityPolcies/" title="GCP Security Policies(Preview)" class="md-nav__link">GCP Security Policies(Preview)</a></li><li class="md-nav__item"><a href="../../securityPolicies/office365SecurityPolcies/" title="Office 365 Security Policies" class="md-nav__link">Office 365 Security Policies</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-6" type="checkbox" id="nav-3-6"><label class="md-nav__link" for="nav-3-6">OS baselines</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-3-6">OS baselines</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../securityPolicies/osBaseline/centOSSecurityPolcies/" title="CentOS" class="md-nav__link">CentOS</a></li><li class="md-nav__item"><a href="../../securityPolicies/osBaseline/rhelSecurityPolcies/" title="RHEL" class="md-nav__link">RHEL</a></li><li class="md-nav__item"><a href="../../securityPolicies/osBaseline/ubuntuSecurityPolcies/" title="Ubuntu 18.04" class="md-nav__link">Ubuntu 18.04</a></li><li class="md-nav__item"><a href="../../securityPolicies/osBaseline/windows12SecurityPolcies/" title="Windows 2012 R2" class="md-nav__link">Windows 2012 R2</a></li><li class="md-nav__item"><a href="../../securityPolicies/osBaseline/windows16SecurityPolcies/" title="Windows 2016" class="md-nav__link">Windows 2016</a></li><li class="md-nav__item"><a href="../../securityPolicies/osBaseline/windows19SecurityPolcies/" title="Windows 2019" class="md-nav__link">Windows 2019</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-7" type="checkbox" id="nav-3-7"><label class="md-nav__link" for="nav-3-7">Kubernetes</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-3-7">Kubernetes</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../securityPolicies/kubernetes/awsK8SSecurityPolcies/" title="AWS" class="md-nav__link">AWS</a></li><li class="md-nav__item"><a href="../../securityPolicies/kubernetes/azureK8SSecurityPolcies/" title="Azure" class="md-nav__link">Azure</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4"><label class="md-nav__link" for="nav-4">Compliance Benchmarks</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-4">Compliance Benchmarks</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../complianceBenchmarks/complianceBenchmarks/" title="Benchmarks" class="md-nav__link">Benchmarks</a></li></ul></nav></li><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked><label class="md-nav__link" for="nav-5">Onboarding Guide</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-5">Onboarding Guide</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../onboardingGuideOverview/" title="Overview" class="md-nav__link">Overview</a></li><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2" checked><label class="md-nav__link" for="nav-5-2">Amazon Web Services</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-5-2">Amazon Web Services</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item md-nav__item--active"><input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc"><label class="md-nav__link md-nav__link--active" for="__toc">Onboarding steps</label><a href="./" title="Onboarding steps" class="md-nav__link md-nav__link--active">Onboarding steps</a><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">In this article</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#onboarding-steps" title="Onboarding Steps" class="md-nav__link">Onboarding Steps</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#required-roles" title="Required Roles" class="md-nav__link">Required Roles</a></li><li class="md-nav__item"><a href="#collect-information" title="Collect information" class="md-nav__link">Collect information</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#cloudneeti-aws-account-id-1" title="Cloudneeti AWS account id (1)" class="md-nav__link">Cloudneeti AWS account id (1)</a></li><li class="md-nav__item"><a href="#license-id-2" title="License id (2)" class="md-nav__link">License id (2)</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item"><a href="#step-1-create-an-aws-role-for-cloudneeti-manually-or-using-automated-script" title="STEP 1: Create an AWS role for Cloudneeti Manually or using automated script" class="md-nav__link">STEP 1: Create an AWS role for Cloudneeti Manually or using automated script</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#11-manual" title="1.1 Manual" class="md-nav__link">1.1 Manual</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#grant-permissions" title="Grant Permissions" class="md-nav__link">Grant Permissions</a></li></ul></nav></li><li class="md-nav__item"><a href="#12-automated-script" title="1.2 Automated script" class="md-nav__link">1.2 Automated script</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#workstation-readiness" title="Workstation readiness" class="md-nav__link">Workstation readiness</a></li><li class="md-nav__item"><a href="#generate-aws-account-access-key-id-and-secret" title="Generate AWS account access key id and secret" class="md-nav__link">Generate AWS account access key id and secret</a></li><li class="md-nav__item"><a href="#create-an-aws-role-for-cloudneeti-using-automation-script" title="Create an AWS role for Cloudneeti using automation script" class="md-nav__link">Create an AWS role for Cloudneeti using automation script</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item"><a href="#step-2-enable-aws-config-based-data-collection-optional" title="STEP 2: Enable AWS Config Based Data Collection (Optional)" class="md-nav__link">STEP 2: Enable AWS Config Based Data Collection (Optional)</a></li><li class="md-nav__item"><a href="#step-3-aws-inspector-os-baseline-configurations-optional" title="STEP 3: AWS inspector OS Baseline Configurations (Optional)" class="md-nav__link">STEP 3: AWS inspector OS Baseline Configurations (Optional)</a></li><li class="md-nav__item"><a href="#step-4-aws-inspector-vulnerability-configurations-optional" title="STEP 4: AWS inspector Vulnerability Configurations (Optional)" class="md-nav__link">STEP 4: AWS inspector Vulnerability Configurations (Optional)</a></li><li class="md-nav__item"><a href="#step-4-configuring-cloudneeti-agent-in-amazon-elastic-kubernetes-service-amazon-eks-optional" title="STEP 4: Configuring Cloudneeti agent in Amazon Elastic Kubernetes Service (Amazon EKS) (Optional)" class="md-nav__link">STEP 4: Configuring Cloudneeti agent in Amazon Elastic Kubernetes Service (Amazon EKS) (Optional)</a></li><li class="md-nav__item"><a href="#step-5-add-aws-account" title="STEP 5: Add AWS Account" class="md-nav__link">STEP 5: Add AWS Account</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#51-activate-the-license" title="5.1 Activate the License" class="md-nav__link">5.1 Activate the License</a></li><li class="md-nav__item"><a href="#52-add-aws-account" title="5.2 Add AWS Account" class="md-nav__link">5.2 Add AWS Account</a></li><li class="md-nav__item"><a href="#53-data-collection" title="5.3 Data Collection" class="md-nav__link">5.3 Data Collection</a></li></ul></nav></li><li class="md-nav__item"><a href="#step-6-verify-cloud-account-health-status" title="STEP 6. Verify cloud account health status" class="md-nav__link">STEP 6. Verify cloud account health status</a></li><li class="md-nav__item"><a href="#offboarding" title="OFFBOARDING" class="md-nav__link">OFFBOARDING</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#delete-role-for-each-aws-account" title="Delete Role for each AWS account" class="md-nav__link">Delete Role for each AWS account</a></li><li class="md-nav__item"><a href="#delete-cloud-account-in-cloudneeti-application" title="Delete cloud account in Cloudneeti application" class="md-nav__link">Delete cloud account in Cloudneeti application</a></li></ul></nav></li><li class="md-nav__item"><a href="#appendix" title="Appendix" class="md-nav__link">Appendix</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#collect-aws-account-information" title="Collect AWS account information" class="md-nav__link">Collect AWS account information</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#aws-account-id" title="AWS account id" class="md-nav__link">AWS account id</a></li></ul></nav></li></ul></nav></li></ul></nav></li><li class="md-nav__item"><a href="../awsEnableConfigBasedDataCollection/" title="Enable AWS Config Based Data Collection (optional)" class="md-nav__link">Enable AWS Config Based Data Collection (optional)</a></li><li class="md-nav__item"><a href="../awsVMBaselineConfiguration/" title="OS baseline (optional)" class="md-nav__link">OS baseline (optional)</a></li><li class="md-nav__item"><a href="../awsVulnerabilities/" title="Vulnerability (optional)" class="md-nav__link">Vulnerability (optional)</a></li><li class="md-nav__item"><a href="../configureCloudneetiAgentInEKS/" title="Amazon Elastic Kubernetes Service (Amazon EKS) (optional)" class="md-nav__link">Amazon Elastic Kubernetes Service (Amazon EKS) (optional)</a></li><li class="md-nav__item"><a href="../awsAccountHealthStatus/" title="AWS onboarding health status" class="md-nav__link">AWS onboarding health status</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3" type="checkbox" id="nav-5-3"><label class="md-nav__link" for="nav-5-3">Microsoft Azure</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-5-3">Microsoft Azure</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../azureSubscriptions/" title="Onboarding steps" class="md-nav__link">Onboarding steps</a></li><li class="md-nav__item"><a href="../grantAccessToAzureSubscriptionAdditionalRoles/" title="Additional roles" class="md-nav__link">Additional roles</a></li><li class="md-nav__item"><a href="../grantAccessToKeyVaults/" title="Key vaults" class="md-nav__link">Key vaults</a></li><li class="md-nav__item"><a href="../azureAdvancedSecurityConfigurations/" title="Advanced security configurations" class="md-nav__link">Advanced security configurations</a></li><li class="md-nav__item"><a href="../enableASCAuditPolicies/" title="Enable ASC audit policies" class="md-nav__link">Enable ASC audit policies</a></li><li class="md-nav__item"><a href="../azureOSBaseline/" title="OS baseline and vulnerability" class="md-nav__link">OS baseline and vulnerability</a></li><li class="md-nav__item"><a href="../azureVulnerability/" title="Vulnerability" class="md-nav__link">Vulnerability</a></li><li class="md-nav__item"><a href="../configureCloudneetiAgentInAKS/" title="Azure Kubernetes Service (AKS)" class="md-nav__link">Azure Kubernetes Service (AKS)</a></li><li class="md-nav__item"><a href="../azureAccountHealthStatus/" title="Azure onboarding health status" class="md-nav__link">Azure onboarding health status</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-4" type="checkbox" id="nav-5-4"><label class="md-nav__link" for="nav-5-4">Google Cloud Platform (Preview)</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-5-4">Google Cloud Platform (Preview)</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../gcpOnboardingOverview/" title="Overview" class="md-nav__link">Overview</a></li><li class="md-nav__item"><a href="../gcpProject/" title="GCP Project" class="md-nav__link">GCP Project</a></li><li class="md-nav__item"><a href="../gcpOrganization/" title="GCP Organization" class="md-nav__link">GCP Organization</a></li><li class="md-nav__item"><a href="../gcpAnnexure/" title="Annexure" class="md-nav__link">Annexure</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-5" type="checkbox" id="nav-5-5"><label class="md-nav__link" for="nav-5-5">Office 365</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-5-5">Office 365</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../office365Subscription/" title="Onboarding steps" class="md-nav__link">Onboarding steps</a></li><li class="md-nav__item"><a href="../office365AccountHealthStatus/" title="Office 365 onboarding health status" class="md-nav__link">Office 365 onboarding health status</a></li><li class="md-nav__item"><a href="../office365AdvanceSecurityConfigurationUpgrade/" title="Upgrade advanced security configurations" class="md-nav__link">Upgrade advanced security configurations</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6"><label class="md-nav__link" for="nav-6">User Guide</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-6">User Guide</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../gettingStarted/signInAndSignOut/" title="Sign In and Sign Out" class="md-nav__link">Sign In and Sign Out</a></li><li class="md-nav__item"><a href="../../userGuide/userInterface/" title="User Interface" class="md-nav__link">User Interface</a></li><li class="md-nav__item"><a href="../../userGuide/dashboards/" title="Dashboards" class="md-nav__link">Dashboards</a></li><li class="md-nav__item"><a href="../../userGuide/securityPolicies/" title="Security Policies" class="md-nav__link">Security Policies</a></li><li class="md-nav__item"><a href="../../userGuide/complianceBenchmarks/" title="Compliance Benchmarks" class="md-nav__link">Compliance Benchmarks</a></li><li class="md-nav__item"><a href="../../userGuide/reports/" title="Reports" class="md-nav__link">Reports</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7"><label class="md-nav__link" for="nav-7">REST APIs</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-7">REST APIs</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../userGuide/restAPIs/" title="Overview" class="md-nav__link">Overview</a></li><li class="md-nav__item"><a href="../../userGuide/apiUserScenarios/" title="API User Scenarios" class="md-nav__link">API User Scenarios</a></li><li class="md-nav__item"><a href="../../userGuide/tokenAPI/" title="Token API" class="md-nav__link">Token API</a></li><li class="md-nav__item"><a href="../../userGuide/getLicenseAccounts/" title="License Accounts API" class="md-nav__link">License Accounts API</a></li><li class="md-nav__item"><a href="../../userGuide/onboardCloudAccount/" title="Onboard cloud account API" class="md-nav__link">Onboard cloud account API</a></li><li class="md-nav__item"><a href="../../userGuide/updateAPIAppAccessScope/" title="Update API app access scope API" class="md-nav__link">Update API app access scope API</a></li><li class="md-nav__item"><a href="../../userGuide/getHealthStatus/" title="Onboarding health status API" class="md-nav__link">Onboarding health status API</a></li><li class="md-nav__item"><a href="../../userGuide/getBenchmarkSummary/" title="Audit summary report API" class="md-nav__link">Audit summary report API</a></li><li class="md-nav__item"><a href="../../userGuide/initiateScanAPI/" title="Initiate scan API" class="md-nav__link">Initiate scan API</a></li><li class="md-nav__item"><a href="../../userGuide/scanStatusAPI/" title="Scan status API" class="md-nav__link">Scan status API</a></li><li class="md-nav__item"><a href="../../userGuide/getSupportedBenchmarks/" title="Get supported benchmarks API" class="md-nav__link">Get supported benchmarks API</a></li><li class="md-nav__item"><a href="../../userGuide/auditReportAPI/" title="Audit report API" class="md-nav__link">Audit report API</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8"><label class="md-nav__link" for="nav-8">Administrator Guide</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-8">Administrator Guide</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../administratorGuide/featuresAndQuotas/" title="Features and Quotas" class="md-nav__link">Features and Quotas</a></li><li class="md-nav__item"><a href="../../administratorGuide/manageLicenses/" title="Integrations" class="md-nav__link">Integrations</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-3" type="checkbox" id="nav-8-3"><label class="md-nav__link" for="nav-8-3">Incident management</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-8-3">Incident management</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../administratorGuide/serviceNowIntegration/" title="Service Now" class="md-nav__link">Service Now</a></li><li class="md-nav__item"><a href="../../administratorGuide/zendeskIntegration/" title="Zendesk" class="md-nav__link">Zendesk</a></li></ul></nav></li><li class="md-nav__item"><a href="../../administratorGuide/azureASCPushIntegration/" title="ASC Push Integration" class="md-nav__link">ASC Push Integration</a></li><li class="md-nav__item"><a href="../../administratorGuide/manageAccounts/" title="Cloud Accounts" class="md-nav__link">Cloud Accounts</a></li><li class="md-nav__item"><a href="../../administratorGuide/manageUsers/" title="Users & Roles" class="md-nav__link">Users & Roles</a></li><li class="md-nav__item"><a href="../../administratorGuide/privateBenchmark/" title="Private Benchmark" class="md-nav__link">Private Benchmark</a></li><li class="md-nav__item"><a href="../../administratorGuide/securityPolicyExclusions/" title="Security Policy Configuration" class="md-nav__link">Security Policy Configuration</a></li><li class="md-nav__item"><a href="../../administratorGuide/overrideSecurityPolicyStatus/" title="Override Security Policy Status" class="md-nav__link">Override Security Policy Status</a></li><li class="md-nav__item"><a href="../../administratorGuide/auditLog/" title="Audit Log" class="md-nav__link">Audit Log</a></li><li class="md-nav__item"><a href="../../administratorGuide/configureCloudneetiAPIAccess/" title="Configure Cloudneeti API Access" class="md-nav__link">Configure Cloudneeti API Access</a></li><li class="md-nav__item"><a href="../../administratorGuide/utilizationDashboard/" title="Utilization Dashboard" class="md-nav__link">Utilization Dashboard</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9"><label class="md-nav__link" for="nav-9">Remediation</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-9">Remediation</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../remediation/overview/" title="Overview" class="md-nav__link">Overview</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-2" type="checkbox" id="nav-9-2"><label class="md-nav__link" for="nav-9-2">Azure</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-9-2">Azure</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../remediation/azureGuidedRemediation/" title="Guided Remediation" class="md-nav__link">Guided Remediation</a></li><li class="md-nav__item"><a href="../../remediation/azureAutoRemediation/" title="Auto Remediation" class="md-nav__link">Auto Remediation</a></li><li class="md-nav__item"><a href="../../remediation/azureDecommissionofRemediation/" title="Decommission of remediation" class="md-nav__link">Decommission of remediation</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-3" type="checkbox" id="nav-9-3"><label class="md-nav__link" for="nav-9-3">AWS</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-9-3">AWS</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../remediation/awsGuidedRemediation/" title="Guided Remediation" class="md-nav__link">Guided Remediation</a></li><li class="md-nav__item"><a href="../../remediation/awsRemediation/" title="Auto Remediation" class="md-nav__link">Auto Remediation</a></li><li class="md-nav__item"><a href="../../remediation/awsDecommissionofRemediation/" title="Decommission Remediation Framework" class="md-nav__link">Decommission Remediation Framework</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10"><label class="md-nav__link" for="nav-10">Quick wins and OS baseline hardening scripts</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-10">Quick wins and OS baseline hardening scripts</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../remediation/overviewQuickWins/" title="Overview" class="md-nav__link">Overview</a></li><li class="md-nav__item"><a href="../../remediation/awsQuickWins/" title="AWS Quick wins" class="md-nav__link">AWS Quick wins</a></li><li class="md-nav__item"><a href="../../remediation/azureQuickWins/" title="Azure Quick Wins" class="md-nav__link">Azure Quick Wins</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-4" type="checkbox" id="nav-10-4"><label class="md-nav__link" for="nav-10-4">OS Hardening for Baseline Configuration</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-10-4">OS Hardening for Baseline Configuration</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../remediation/osBaseline/centOSQuickWins/" title="CentOS Linux 7" class="md-nav__link">CentOS Linux 7</a></li><li class="md-nav__item"><a href="../../remediation/osBaseline/rhelQuickWins/" title="RHEL Linux 7" class="md-nav__link">RHEL Linux 7</a></li><li class="md-nav__item"><a href="../../remediation/osBaseline/win12QuickWins/" title="Windows Server 2012 R2" class="md-nav__link">Windows Server 2012 R2</a></li><li class="md-nav__item"><a href="../../remediation/osBaseline/win16QuickWins/" title="Windows Server 2016" class="md-nav__link">Windows Server 2016</a></li><li class="md-nav__item"><a href="../../remediation/osBaseline/win19QuickWins/" title="Windows Server 2019" class="md-nav__link">Windows Server 2019</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11"><label class="md-nav__link" for="nav-11">Release Notes</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-11">Release Notes</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../releaseNotes/2020/" title="Releases in 2020" class="md-nav__link">Releases in 2020</a></li><li class="md-nav__item"><a href="../../releaseNotes/2019/" title="Releases in 2019" class="md-nav__link">Releases in 2019</a></li></ul></nav></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">In this article</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#onboarding-steps" title="Onboarding Steps" class="md-nav__link">Onboarding Steps</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#required-roles" title="Required Roles" class="md-nav__link">Required Roles</a></li><li class="md-nav__item"><a href="#collect-information" title="Collect information" class="md-nav__link">Collect information</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#cloudneeti-aws-account-id-1" title="Cloudneeti AWS account id (1)" class="md-nav__link">Cloudneeti AWS account id (1)</a></li><li class="md-nav__item"><a href="#license-id-2" title="License id (2)" class="md-nav__link">License id (2)</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item"><a href="#step-1-create-an-aws-role-for-cloudneeti-manually-or-using-automated-script" title="STEP 1: Create an AWS role for Cloudneeti Manually or using automated script" class="md-nav__link">STEP 1: Create an AWS role for Cloudneeti Manually or using automated script</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#11-manual" title="1.1 Manual" class="md-nav__link">1.1 Manual</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#grant-permissions" title="Grant Permissions" class="md-nav__link">Grant Permissions</a></li></ul></nav></li><li class="md-nav__item"><a href="#12-automated-script" title="1.2 Automated script" class="md-nav__link">1.2 Automated script</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#workstation-readiness" title="Workstation readiness" class="md-nav__link">Workstation readiness</a></li><li class="md-nav__item"><a href="#generate-aws-account-access-key-id-and-secret" title="Generate AWS account access key id and secret" class="md-nav__link">Generate AWS account access key id and secret</a></li><li class="md-nav__item"><a href="#create-an-aws-role-for-cloudneeti-using-automation-script" title="Create an AWS role for Cloudneeti using automation script" class="md-nav__link">Create an AWS role for Cloudneeti using automation script</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item"><a href="#step-2-enable-aws-config-based-data-collection-optional" title="STEP 2: Enable AWS Config Based Data Collection (Optional)" class="md-nav__link">STEP 2: Enable AWS Config Based Data Collection (Optional)</a></li><li class="md-nav__item"><a href="#step-3-aws-inspector-os-baseline-configurations-optional" title="STEP 3: AWS inspector OS Baseline Configurations (Optional)" class="md-nav__link">STEP 3: AWS inspector OS Baseline Configurations (Optional)</a></li><li class="md-nav__item"><a href="#step-4-aws-inspector-vulnerability-configurations-optional" title="STEP 4: AWS inspector Vulnerability Configurations (Optional)" class="md-nav__link">STEP 4: AWS inspector Vulnerability Configurations (Optional)</a></li><li class="md-nav__item"><a href="#step-4-configuring-cloudneeti-agent-in-amazon-elastic-kubernetes-service-amazon-eks-optional" title="STEP 4: Configuring Cloudneeti agent in Amazon Elastic Kubernetes Service (Amazon EKS) (Optional)" class="md-nav__link">STEP 4: Configuring Cloudneeti agent in Amazon Elastic Kubernetes Service (Amazon EKS) (Optional)</a></li><li class="md-nav__item"><a href="#step-5-add-aws-account" title="STEP 5: Add AWS Account" class="md-nav__link">STEP 5: Add AWS Account</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#51-activate-the-license" title="5.1 Activate the License" class="md-nav__link">5.1 Activate the License</a></li><li class="md-nav__item"><a href="#52-add-aws-account" title="5.2 Add AWS Account" class="md-nav__link">5.2 Add AWS Account</a></li><li class="md-nav__item"><a href="#53-data-collection" title="5.3 Data Collection" class="md-nav__link">5.3 Data Collection</a></li></ul></nav></li><li class="md-nav__item"><a href="#step-6-verify-cloud-account-health-status" title="STEP 6. Verify cloud account health status" class="md-nav__link">STEP 6. Verify cloud account health status</a></li><li class="md-nav__item"><a href="#offboarding" title="OFFBOARDING" class="md-nav__link">OFFBOARDING</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#delete-role-for-each-aws-account" title="Delete Role for each AWS account" class="md-nav__link">Delete Role for each AWS account</a></li><li class="md-nav__item"><a href="#delete-cloud-account-in-cloudneeti-application" title="Delete cloud account in Cloudneeti application" class="md-nav__link">Delete cloud account in Cloudneeti application</a></li></ul></nav></li><li class="md-nav__item"><a href="#appendix" title="Appendix" class="md-nav__link">Appendix</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#collect-aws-account-information" title="Collect AWS account information" class="md-nav__link">Collect AWS account information</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#aws-account-id" title="AWS account id" class="md-nav__link">AWS account id</a></li></ul></nav></li></ul></nav></li></ul></nav></div></div></div><div class="md-content"><article class="md-content__inner md-typeset"><h1 id="aws-accounts-onboarding-guide">AWS Accounts Onboarding Guide</h1>
<h2 id="onboarding-steps">Onboarding Steps</h2>
<p>The following steps are required to onboard AWS to the Cloudneeti application.</p>
<p><img alt="AWS Overview" src="../../images/amazonWebServiceAccounts/AWS_Overview.png#thumbnail_1" /></p>
<table>
<thead>
<tr>
<th>S. No.</th>
<th>Step</th>
<th>Product</th>
<th>Role</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Create an AWS role for Cloudneeti</td>
<td>AWS</td>
<td>AWS Administrator</td>
<td>mandatory</td>
</tr>
<tr>
<td>2</td>
<td>Enable AWS Config Based Data Collection</td>
<td>AWS</td>
<td>AWS Administrator</td>
<td>optional</td>
</tr>
<tr>
<td>3</td>
<td>AWS inspector OS Baseline Configurations (Optional)</td>
<td>AWS</td>
<td>AWS Administrator</td>
<td>optional</td>
</tr>
<tr>
<td>4</td>
<td>AWS inspector Vulnerability Configurations (Optional)</td>
<td>AWS</td>
<td>AWS Administrator</td>
<td>optional</td>
</tr>
<tr>
<td>5</td>
<td>Configure Cloudneeti agent on EKS and EC2-instance based Kubernetes</td>
<td>AWS</td>
<td>AWS Administrator</td>
<td>optional</td>
</tr>
<tr>
<td>6</td>
<td>Add AWS Account</td>
<td>Cloudneeti</td>
<td>License Admin</td>
<td>mandatory</td>
</tr>
<tr>
<td>7</td>
<td>Verify cloud account health status</td>
<td>Cloudneeti</td>
<td>License Admin</td>
<td>optional</td>
</tr>
</tbody>
</table>
<p><strong>1. Creating an AWS role for Cloudneeti</strong> includes registering a new AWS role for the Cloudneeti application and granting the required access permissions.</p>
<p><strong>2. Enable AWS Config Based Data Collection (optional)</strong> involves enabling AWS Config and setting up Aggregator. This enables you to assess, audit and evaluate configurations of your AWS resources. Using AWS Config APIs, Cloudneeti will now be able to pull out resource configuration metadata at scale. This optional onboarding configuration will be used by default for accounts with larger number of resources.</p>
<p><strong>3. AWS inspector OS Baseline Configurations (Optional)</strong> includes installing AWS Inspector Agent to assess your assessment target EC2 instances. Amazon Inspector is a security assessment service for your Amazon EC2 instances and the applications running on those instances.
Enabling AWS Inspector for a host assessment allows various OS baselines as defined by CIS automatically light up on the Cloudneeti dashboards.</p>
<p><strong>4. AWS inspector Vulnerability Configurations (Optional)</strong> includes installing AWS Inspector Agent to assess your assessment target EC2 instances. Amazon Inspector is a security assessment service for your Amazon EC2 instances and the applications running on those instances.
Enabling AWS Inspector for a host assessment allows Cloudneeti to collect common vulnerabilities and exposures (CVEs) and associate them to each of the cloud assets.</p>
<p><strong>5. Configure Cloudneeti agent on EKS and EC2-instance based Kubernetes (optional)</strong> inlcudes Deploying Cloudneeti agent on Amazon Elastic Kubernetes Service (Amazon EKS) enables compliance monitoring of Kubernetes cluster. A docker agent is deployed to collect data for additional security policies. Cloudneeti then provides out-of-box mappings for all 13+ compliance frameworks included in the product.</p>
<p><strong>6. Add AWS Account</strong> to the Cloudneeti application includes adding AWS account information to the respective Cloudneeti cloud account and waiting until the first data collection is complete.</p>
<p><strong>7. Verify cloud account health status</strong> for prerequisite permissions and configurations can be verified post every scan.</p>
<h3 id="required-roles">Required Roles</h3>
<p>One or more people with the following roles are required to complete Amazon Web Service Account onboarding process.</p>
<table>
<thead>
<tr>
<th>Role</th>
<th>Product</th>
</tr>
</thead>
<tbody>
<tr>
<td>License Admin</td>
<td>Cloudneeti</td>
</tr>
<tr>
<td>AWS Administrator</td>
<td>AWS</td>
</tr>
</tbody>
</table>
<p>Cloudneeti application <strong>License Admin</strong> is assigned to an individual in the customer’s organization who will be responsible for configuration of the respective Cloudneeti application License.</p>
<h3 id="collect-information">Collect information</h3>
<p>Information can be retrived from email notification recieved by License Admin on License creation sent by Cloudneeti Notification Bot. This information is required in <a href=".././amazonWebServiceAccounts/#step-1-create-an-aws-role-for-cloudneeti-manually-or-using-automated-script">step 1</a> </p>
<h4 id="cloudneeti-aws-account-id-1">Cloudneeti AWS account id (1)</h4>
<p>To be added as <strong>Another AWS account</strong></p>
<h4 id="license-id-2">License id (2)</h4>
<p>To be added as <strong>External Id</strong> </p>
<p><img alt="AWS Portal" src="../../images/amazonWebServiceAccounts/Welcome_Email.png#thumbnail" /></p>
<h2 id="step-1-create-an-aws-role-for-cloudneeti-manually-or-using-automated-script">STEP 1: Create an AWS role for Cloudneeti Manually or using automated script</h2>
<p>AWS <strong>Administrator</strong> role is required for granting Cloudneeti application access rights to AWS account(s). The administrator must have enough permissions to create a role as a trusted entity with the <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_job-functions.html#jf_security-auditor">SecurityAudit access policy.</a></p>
<p>The following steps are executed by AWS <strong>Administrator</strong> role. AWS role for Cloudneeti can be created manually or using an automation script. </p>
<h3 id="11-manual">1.1 Manual</h3>
<h4 id="grant-permissions">Grant Permissions</h4>
<p>Login to <a href="https://console.aws.amazon.com/">AWS portal</a> with AWS <strong>Administrator</strong> role.</p>
<ol>
<li>
<p>Navigate to <strong>Services</strong> (1)</p>
</li>
<li>
<p>Click <strong>IAM</strong> (2)</p>
<p><img alt="AWS Portal" src="../../images/amazonWebServiceAccounts/AWS_Portal.png#thumbnail" /></p>
</li>
<li>
<p>Click on <strong>Roles</strong> (1) and <strong>Create Role</strong> </p>
<p><img alt="Create Role" src="../../images/amazonWebServiceAccounts/Roles.png#thumbnail" /></p>
</li>
<li>
<p>Select <strong>Another AWS account</strong> (1) and enter Cloudneeti's AWS account ID (2)</p>
</li>
<li>
<p>Select <strong>Options</strong> for Require external ID (Best practice when a third party will assume this role) (3)</p>
</li>
<li>
<p>Enter the license id as <strong>External ID</strong> (4)</p>
</li>
<li>
<p>Click <strong>Next: Permissions</strong> (5)</p>
<p><img alt="Activate License" src="../../images/amazonWebServiceAccounts/Another_AWS_Account_ExternalId.png#thumbnail" /></p>
</li>
<li>
<p>Select policy name <strong>SecurityAudit</strong></p>
</li>
<li>
<p>Click <strong>Next</strong></p>
<p><img alt="Create Role" src="../../images/amazonWebServiceAccounts/Attatch_policies.png#thumbnail" /></p>
</li>
<li>
<p>Click <strong>Next: Tags</strong></p>
</li>
<li>
<p>Enter <strong>Role Name</strong> (1), the same role name should be added while creating an AWS Cloud Account in Cloudneeti.</p>
</li>
<li>
<p>Click on <strong>Create role</strong> (2)
     <img alt="Create Role" src="../../images/amazonWebServiceAccounts/Role_Information.png#thumbnail" /></p>
</li>
</ol>
<p>An AWS role will be created in the customer's account to mark Cloudneeti's account as a trusted entity with the SecurityAudit access policy.</p>
<h3 id="12-automated-script">1.2 Automated script</h3>
<p>Automation script can be used for creation of a role to mark Cloudneeti's account as a trusted entity with the SecurityAudit access policy.</p>
<h4 id="workstation-readiness">Workstation readiness</h4>
<table>
<thead>
<tr>
<th>Activity</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Workstation:</strong> Install AWS Command Line Interface</td>
<td>To install AWS cli follow <a href="https://docs.aws.amazon.com/cli/latest/userguide/install-windows.html" target="_blank">link</a> <strong>AWS Command Line</strong> Interface (CLI) is a unified tool to manage your AWS services.</td>
</tr>
<tr>
<td><strong>Workstation:</strong> Download script provision-datacollection-role.yml</td>
<td>To download provision-datacollection-role.yml script follow <a href="https://raw.githubusercontent.com/Cloudneeti/docs_cloudneeti/master/scripts/provision-datacollection-role.yml" target="_blank">link</a></td>
</tr>
</tbody>
</table>
<h4 id="generate-aws-account-access-key-id-and-secret">Generate AWS account access key id and secret</h4>
<ol>
<li>
<p>Click <strong>your name</strong> located on the top right navigation pane</p>
</li>
<li>
<p>Select <strong>My Security</strong> Credentials </p>
</li>
<li>
<p><strong>Access key id</strong> is under the section <strong>Access keys for CLI, SDK, &amp; API access</strong></p>
<p><img alt="Create access key" src="../../images/amazonWebServiceAccounts/AWS_Account_Access_Key.png#thumbnail" /></p>
</li>
<li>
<p>If access key secret is not available for this id, please create a new access key by clicking on <strong>Create access key</strong> button.</p>
<p><img alt="Create access key" src="../../images/amazonWebServiceAccounts/Access_Key_Success.png#thumbnail" /></p>
</li>
</ol>
<h4 id="create-an-aws-role-for-cloudneeti-using-automation-script">Create an AWS role for Cloudneeti using automation script</h4>
<p>Use serverless.yml file to create a role to mark Cloudneeti's account as a
trusted entity with the SecurityAudit access policy.</p>
<ol>
<li>Open any termial which has AWS CLI configured</li>
<li>On terminal navigate to folder location where you downloaded the file “provision-datacollection-role.yml” (e.g. “cd C:\Downloads”)</li>
<li>
<p>Type <strong>aws configure</strong> and enter</p>
<p>a.  Account access key id and secret access key generated in <a href=".././amazonWebServiceAccounts/#generate-aws-account-access-key-id-and-secret">step</a></p>
<p>b.  Default region name(eg. us-east-1).</p>
<p>c.  Default output format as "json" only.</p>
</li>
<li>
<p>To add Cloudneeti data provisioning resource, execute the below command by providing values for</p>
<p>stack-name : User friendly name </p>
<p>RoleName : Role name for Cloudneeti AWS account</p>
<p>ExternalId : <a href=".././amazonWebServiceAccounts/#cloudneeti-aws-account-id">License Id</a></p>
<p>CloudneetiAWSAccountId : <a href=".././amazonWebServiceAccounts/#cloudneeti-aws-account-id">Cloudneeti AWS Account Id</a></p>
<pre><code>aws cloudformation deploy --template-file provision-datacollection-role.yml --stack-name &lt;Stack Name&gt; --parameter-overrides RoleName=&lt;Role Name&gt; ExternalId=&lt;License Id&gt; CloudneetiAWSAccountId=&lt;Cloudneeti AWS Account Id&gt; --capabilities CAPABILITY_NAMED_IAM
</code></pre>
</li>
<li>
<p>An AWS role will be created in the customer's account to mark Cloudneeti's
    account as a trusted entity with the SecurityAudit access policy.</p>
</li>
</ol>
<h2 id="step-2-enable-aws-config-based-data-collection-optional">STEP 2: <a href="../../onboardingGuide/awsEnableConfigBasedDataCollection/">Enable AWS Config Based Data Collection (Optional)</a></h2>
<p>Involves enabling AWS Config and setting up Aggregator. This enables you to assess, audit and evaluate configurations of your AWS resources. Using AWS Config APIs, Cloudneeti will now be able to pull out resource configuration metadata at scale. This optional onboarding configuration will be used by default for accounts with larger number of resources.</p>
<p>AWS Data collection and processing mechanisms to use AWS config to support massive scale requirements for the following AWS services <a href="../../onboardingGuide/awsEnableConfigBasedDataCollection/#services-supported-by-aws-config-enabled-data-collection">listed here</a></p>
<h2 id="step-3-aws-inspector-os-baseline-configurations-optional">STEP 3: <a href="../../onboardingGuide/awsVMBaselineConfiguration/">AWS inspector OS Baseline Configurations (Optional)</a></h2>
<p>Includes installing AWS Inspector Agent to assess your assessment target EC2 instances. Amazon Inspector is a security assessment service for your Amazon EC2 instances and the applications running on those instances.
Enabling AWS Inspector for a host assessment allows various OS baselines as defined by CIS automatically light up on the Cloudneeti dashboards.</p>
<h2 id="step-4-aws-inspector-vulnerability-configurations-optional">STEP 4: <a href="../../onboardingGuide/awsVulnerabilities/">AWS inspector Vulnerability Configurations (Optional)</a></h2>
<p>includes installing AWS Inspector Agent to assess your assessment target EC2 instances. Amazon Inspector is a security assessment service for your Amazon EC2 instances and the applications running on those instances.
Enabling AWS Inspector for a host assessment allows Cloudneeti to collect common vulnerabilities and exposures (CVEs) and associate them to each of the cloud assets.</p>
<h2 id="step-4-configuring-cloudneeti-agent-in-amazon-elastic-kubernetes-service-amazon-eks-optional">STEP 4: <a href="../../onboardingGuide/configureCloudneetiAgentInEKS/">Configuring Cloudneeti agent in Amazon Elastic Kubernetes Service (Amazon EKS) (Optional)</a></h2>
<p>Cloudneeti includes CIS recommendations for EKS and EC2-instance based Kubernetes Clusters by deploying a Cloudneeti agent to Amazon Kubernetes Cluster. A docker container agent is deployed to collect data for additional security policies. Cloudneeti then provides out-of-box mappings for all 13+ compliance frameworks included in the product. </p>
<p>Deploying Cloudneeti agent on Amazon Elastic Kubernetes Service (Amazon EKS) enables compliance monitoring of Kubernetes cluster for security policies <a href="../../securityPolicies/kubernetes/awsK8SSecurityPolcies/" target="_blank">listed here</a>.</p>
<h2 id="step-5-add-aws-account">STEP 5: Add AWS Account</h2>
<p>The following steps are executed by Cloudneeti application <strong>License Admin</strong> role.</p>
<h3 id="51-activate-the-license">5.1 Activate the License</h3>
<ol>
<li>Log in to the Cloudneeti application with <strong>License Admin</strong> role.</li>
<li>Click on <strong>Activate License</strong>
    <img alt="Activate License" src="../../images/azureSubscriptions/Activate_License.png#thumbnail" /></li>
</ol>
<h3 id="52-add-aws-account">5.2 Add AWS Account</h3>
<p>Log into the Cloudneeti application.</p>
<ol>
<li>
<p>Select <strong>AWS connector</strong> (1) and click <strong>Continue</strong> (2)</p>
<p><img alt="Add account" src="../../images/amazonWebServiceAccounts/connector-type.png#thumbnail" /></p>
</li>
<li>
<p>Enter details: Account Name, AWS Account Id</p>
<p><img alt="Add account" src="../../images/amazonWebServiceAccounts/Add_Account.png#thumbnail" />   </p>
</li>
<li>
<p>Enable <strong>AWS Config Based Data Collection</strong> (Optional) </p>
<p>a. Enter <strong>AWS Config Aggregator Region</strong> as provisioned in <a href="../../onboardingGuide/awsEnableConfigAndAggregator/">Step 3</a></p>
<p>b. Enter <strong>AWS Config Aggregator Name</strong> as provisioned in <a href="../../onboardingGuide/awsEnableConfigAndAggregator/">Step 3</a></p>
</li>
<li>
<p>Click <strong>Add Account</strong></p>
<p><img alt="Add account" src="../../images/amazonWebServiceAccounts/Add_Account_Config.png#thumbnail" /></p>
</li>
</ol>
<h3 id="53-data-collection">5.3 Data Collection</h3>
<p>Once the AWS account is added to the cloud account under the Cloudneeti License, it requires about 5 minutes for the data to be collected and processed,before they can be displayed in Cloudneeti dashboards. </p>
<ol>
<li>
<p>Select <strong>Dashboard</strong> on the menu</p>
</li>
<li>
<p>Review the data on dashboard</p>
<p><img alt="AWS Dashboard" src="../../images/amazonWebServiceAccounts/AWS-Account_Dashboard.png#thumbnail" /></p>
<p>Congratulations! You have added an AWS account to Cloudneeti application.</p>
</li>
</ol>
<h2 id="step-6-verify-cloud-account-health-status">STEP 6. Verify cloud account health status</h2>
<p>Verify <a href="../../onboardingGuide/azureAccountHealthStatus/">cloud account health status</a> for prerequisite permissions and configurations, can be verfied on every scan.</p>
<h2 id="offboarding">OFFBOARDING</h2>
<h3 id="delete-role-for-each-aws-account">Delete Role for each AWS account</h3>
<p>Security audit role created during onboarding of a specific AWS account should be removed. This step needs to be repeated for each AWS account.</p>
<p>Login to <a href="https://console.aws.amazon.com/">AWS portal</a> with AWS <strong>Administrator</strong> role.</p>
<ol>
<li>
<p>Go to <strong>IAM in Services</strong></p>
</li>
<li>
<p>Click on <strong>Roles</strong> (1)</p>
</li>
<li>
<p>Select role created for Cloudneeti's AWS account while onboarding AWS account (2)</p>
</li>
<li>
<p>Click on <strong>Delete</strong> to remove the role (3)</p>
<p><img alt="AWS Offboarding" src="../../images/amazonWebServiceAccounts/AWS_Offboarding.png#thumbnail" /></p>
</li>
</ol>
<h3 id="delete-cloud-account-in-cloudneeti-application">Delete cloud account in Cloudneeti application</h3>
<p>Please send a request to <a href="mailto:support@cloudneeti.com">support@cloudneeti.com</a> to delete this cloud account under your license.</p>
<h2 id="appendix">Appendix</h2>
<h3 id="collect-aws-account-information">Collect AWS account information</h3>
<p>The following steps are executed by the AWS <strong>Administrator</strong> role.</p>
<h4 id="aws-account-id">AWS account id</h4>
<p>Sign into your AWS account.</p>
<ol>
<li>
<p>Click <strong>your name</strong> located on the top right navigation pane</p>
</li>
<li>
<p>Select <strong>My Account</strong> </p>
</li>
<li>
<p>Your AWS ID is the twelve-digit number located underneath the Account Settings section. Copy paste it to your notepad.</p>
<p><img alt="SignIn AWS" src="../../images/amazonWebServiceAccounts/AWS_Management_Console.png#thumbnail" /></p>
</li>
</ol></article></div></div></main><footer class="md-footer"><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class="md-footer-copyright"><div class="md-footer-copyright__highlight">&copy; 2020 Cloudneeti.All Rights Reserved. | <a href="https://www.cloudneeti.com/privacy-policy-2/" target="_blank"> Privacy Policy</a> | <a href="https://www.cloudneeti.com/terms-of-use/" target="_blank"> Terms of Use</a></div></div></div></div></footer>

</div><script src="../../assets/javascripts/application.d5a09f94.js"></script><script>app.initialize({version:"1.1.2",url:{base:"../.."}})</script><script src="../../javascripts/custom.js"></script></body></html>