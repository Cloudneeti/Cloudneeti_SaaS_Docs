<!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content="Cloudneeti Documentation"><meta name="author" content="The Cloudneeti Team"><meta name="lang:clipboard.copy" content="Copy to clipboard"><meta name="lang:clipboard.copied" content="Copied to clipboard"><meta name="lang:search.language" content="en"><meta name="lang:search.pipeline.stopwords" content="True"><meta name="lang:search.pipeline.trimmer" content="True"><meta name="lang:search.result.none" content="No matching documents"><meta name="lang:search.result.one" content="1 matching document"><meta name="lang:search.result.other" content="# matching documents"><meta name="lang:search.tokenizer" content="[\s\-]+"><link rel="shortcut icon" href="../../assets/images/favicon.png"><meta name="generator" content="mkdocs-1.1.2, mkdocs-material-4.3.1"><title>Enable AWS Config Based Data Collection (optional) - Documentation</title><link rel="stylesheet" href="../../assets/stylesheets/application.4031d38b.css"><link rel="stylesheet" href="../../assets/stylesheets/application-palette.224b79ff.css"><meta name="theme-color" content=""><script src="../../assets/javascripts/modernizr.74668098.js"></script><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,400i,700|&display=swap"><style>body,input{font-family:"Poppins","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"","Courier New",Courier,monospace}</style><link rel="stylesheet" href="../../assets/fonts/material-icons.css"><link rel="stylesheet" href="../../stylesheets/extra.css"><script>window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-149855644-1", "docs.cloudneeti.com")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })</script><script async src="https://www.google-analytics.com/analytics.js"></script></head><body dir="ltr" data-md-color-primary="cloudneeti" data-md-color-accent="cloudneeti"><svg class="md-svg"><defs></defs></svg> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" data-md-component="overlay" for="__drawer"></label><a href="#step-2-enable-aws-config-based-data-collection-optionalpreview" tabindex="1" class="md-skip">Skip to content </a><header class="md-header" data-md-component="header"><nav class="md-header-nav md-grid"><div class="md-flex"><div class="md-flex__cell md-flex__cell--shrink"><a href="../.." title="Documentation" class="md-header-nav__button md-logo md-custom-logo"><img src="../../images/logo.png" width="170" height="40"></a></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label></div><div class="md-flex__cell md-flex__cell--stretch"><div class="md-flex__ellipsis md-header-nav__title" data-md-component="title"><!--<span class="md-header-nav__topic"><a href="../..">Documentation</a></span><span class="md-header-nav__topic">Enable AWS Config Based Data Collection (optional)</span>--></div></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--search md-header-nav__button" for="__search"></label><div class="md-search" data-md-component="search" role="dialog"><label class="md-search__overlay" for="__search"></label><div class="md-search__inner" role="search"><form class="md-search__form" name="search"><input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active"> <label class="md-icon md-search__icon" for="__search"></label> <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button></form><div class="md-search__output"><div class="md-search__scrollwrap" data-md-scrollfix><div class="md-search-result" data-md-component="result"><div class="md-search-result__meta">Type to start searching</div><ol class="md-search-result__list"></ol></div></div></div></div></div></div></div></nav></header><div class="md-container"><main class="md-main"><div class="md-main__inner md-grid" data-md-component="container"><div class="md-sidebar md-sidebar--primary" data-md-component="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary" data-md-level="0"><label class="md-nav__title md-nav__title--site" for="__drawer"><a href="../.." title="Documentation" class="md-nav__button md-logo"><img src="../../images/logo.png" width="48" height="48"></a>Documentation</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1"><label class="md-nav__link" for="nav-1">Introduction</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-1">Introduction</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../gettingStarted/introduction/" title="Getting Started" class="md-nav__link">Getting Started</a></li><li class="md-nav__item"><a href="../../gettingStarted/productFeatures/" title="Product Features" class="md-nav__link">Product Features</a></li><li class="md-nav__item"><a href="../../gettingStarted/howItWorks/" title="How it works" class="md-nav__link">How it works</a></li><li class="md-nav__item"><a href="../../gettingStarted/cloudSecurityBestPractices/" title="Cloud Security Best Practices" class="md-nav__link">Cloud Security Best Practices</a></li><li class="md-nav__item"><a href="../../gettingStarted/deploymentArchitecture/" title="Deployment Architecture" class="md-nav__link">Deployment Architecture</a></li><li class="md-nav__item"><a href="../../gettingStarted/customerDataSecurity/" title="Customer Data Security" class="md-nav__link">Customer Data Security</a></li><li class="md-nav__item"><a href="../../gettingStarted/glossary/" title="Glossary" class="md-nav__link">Glossary</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2"><label class="md-nav__link" for="nav-2">Try and Buy</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-2">Try and Buy</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../tryAndBuy/freeTrial/" title="Free Trial" class="md-nav__link">Free Trial</a></li><li class="md-nav__item"><a href="../../tryAndBuy/subscribeOnAzureMarketplace/" title="Buy on Azure Marketplace" class="md-nav__link">Buy on Azure Marketplace</a></li><li class="md-nav__item"><a href="../../tryAndBuy/subscribe/" title="Request a License" class="md-nav__link">Request a License</a></li><li class="md-nav__item"><a href="../../tryAndBuy/partnerCobranding/" title="Partner co-branding" class="md-nav__link">Partner co-branding</a></li><li class="md-nav__item"><a href="../../tryAndBuy/estimatePricing/" title="Estimate Pricing" class="md-nav__link">Estimate Pricing</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3"><label class="md-nav__link" for="nav-3">Security Policies</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-3">Security Policies</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../gettingStarted/cloudSecurityBestPractices/" title="Cloud Security Best Practices" class="md-nav__link">Cloud Security Best Practices</a></li><li class="md-nav__item"><a href="../../securityPolicies/awsSecurityPolcies/" title="AWS Security Policies" class="md-nav__link">AWS Security Policies</a></li><li class="md-nav__item"><a href="../../securityPolicies/azureSecurityPolcies/" title="Azure Security Policies" class="md-nav__link">Azure Security Policies</a></li><li class="md-nav__item"><a href="../../securityPolicies/gcp_SecurityPolcies/" title="GCP Security Policies(Preview)" class="md-nav__link">GCP Security Policies(Preview)</a></li><li class="md-nav__item"><a href="../../securityPolicies/office365SecurityPolcies/" title="Office 365 Security Policies" class="md-nav__link">Office 365 Security Policies</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-6" type="checkbox" id="nav-3-6"><label class="md-nav__link" for="nav-3-6">OS baselines</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-3-6">OS baselines</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../securityPolicies/osBaseline/centOSSecurityPolcies/" title="CentOS" class="md-nav__link">CentOS</a></li><li class="md-nav__item"><a href="../../securityPolicies/osBaseline/rhelSecurityPolcies/" title="RHEL" class="md-nav__link">RHEL</a></li><li class="md-nav__item"><a href="../../securityPolicies/osBaseline/ubuntuSecurityPolcies/" title="Ubuntu 18.04" class="md-nav__link">Ubuntu 18.04</a></li><li class="md-nav__item"><a href="../../securityPolicies/osBaseline/windows12SecurityPolcies/" title="Windows 2012 R2" class="md-nav__link">Windows 2012 R2</a></li><li class="md-nav__item"><a href="../../securityPolicies/osBaseline/windows16SecurityPolcies/" title="Windows 2016" class="md-nav__link">Windows 2016</a></li><li class="md-nav__item"><a href="../../securityPolicies/osBaseline/windows19SecurityPolcies/" title="Windows 2019" class="md-nav__link">Windows 2019</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-7" type="checkbox" id="nav-3-7"><label class="md-nav__link" for="nav-3-7">Kubernetes</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-3-7">Kubernetes</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../securityPolicies/kubernetes/awsK8SSecurityPolcies/" title="AWS" class="md-nav__link">AWS</a></li><li class="md-nav__item"><a href="../../securityPolicies/kubernetes/azureK8SSecurityPolcies/" title="Azure" class="md-nav__link">Azure</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4"><label class="md-nav__link" for="nav-4">Compliance Benchmarks</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-4">Compliance Benchmarks</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../complianceBenchmarks/complianceBenchmarks/" title="Benchmarks" class="md-nav__link">Benchmarks</a></li></ul></nav></li><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked><label class="md-nav__link" for="nav-5">Onboarding Guide</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-5">Onboarding Guide</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../onboardingGuideOverview/" title="Overview" class="md-nav__link">Overview</a></li><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2" checked><label class="md-nav__link" for="nav-5-2">Amazon Web Services</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-5-2">Amazon Web Services</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../amazonWebServiceAccounts/" title="Onboarding steps" class="md-nav__link">Onboarding steps</a></li><li class="md-nav__item md-nav__item--active"><input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc"><label class="md-nav__link md-nav__link--active" for="__toc">Enable AWS Config Based Data Collection (optional)</label><a href="./" title="Enable AWS Config Based Data Collection (optional)" class="md-nav__link md-nav__link--active">Enable AWS Config Based Data Collection (optional)</a><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">In this article</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#21-provision-resources-for-config-based-data-collection-manual" title="2.1 Provision resources for config based data collection (Manual)" class="md-nav__link">2.1 Provision resources for config based data collection (Manual)</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#211-config-set-up" title="2.1.1 Config set-up" class="md-nav__link">2.1.1 Config set-up</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#first-time-configuration" title="First time configuration" class="md-nav__link">First time configuration</a></li><li class="md-nav__item"><a href="#config-is-already-setup" title="Config is already setup" class="md-nav__link">Config is already setup</a></li></ul></nav></li><li class="md-nav__item"><a href="#212-create-config-aggregator" title="2.1.2 Create config Aggregator" class="md-nav__link">2.1.2 Create config Aggregator</a></li></ul></nav></li><li class="md-nav__item"><a href="#21-provision-resources-for-config-based-data-collection-automated" title="2.1 Provision resources for config based data collection (Automated)" class="md-nav__link">2.1 Provision resources for config based data collection (Automated)</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#workstation-readiness" title="Workstation readiness" class="md-nav__link">Workstation readiness</a></li><li class="md-nav__item"><a href="#note" title="Note" class="md-nav__link">Note</a></li><li class="md-nav__item"><a href="#steps" title="Steps" class="md-nav__link">Steps</a></li></ul></nav></li><li class="md-nav__item"><a href="#22-verify-config-related-resources-created-on-aws-portal" title="2.2 Verify Config related resources created on AWS Portal" class="md-nav__link">2.2 Verify Config related resources created on AWS Portal</a></li><li class="md-nav__item"><a href="#23-verify-aggregation-is-completed" title="2.3 Verify Aggregation is completed" class="md-nav__link">2.3 Verify Aggregation is completed</a></li><li class="md-nav__item"><a href="#appendix" title="Appendix" class="md-nav__link">Appendix</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#services-supported-by-aws-config-enabled-data-collection" title="Services supported by AWS Config enabled data collection" class="md-nav__link">Services supported by AWS Config enabled data collection</a></li><li class="md-nav__item"><a href="#generate-aws-account-access-key-id-and-secret" title="Generate AWS account access key id and secret" class="md-nav__link">Generate AWS account access key id and secret</a></li></ul></nav></li><li class="md-nav__item"><a href="#decommission-aws-config" title="Decommission AWS Config" class="md-nav__link">Decommission AWS Config</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#1-disable-aws-config-based-data-collection" title="1. Disable AWS Config Based Data Collection" class="md-nav__link">1. Disable AWS Config Based Data Collection</a></li><li class="md-nav__item"><a href="#2-delete-deployment-bucket" title="2. Delete deployment bucket" class="md-nav__link">2. Delete deployment bucket</a></li><li class="md-nav__item"><a href="#3-execute-decommission-script" title="3. Execute decommission script" class="md-nav__link">3. Execute decommission script</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item"><a href="../awsVMBaselineConfiguration/" title="OS baseline (optional)" class="md-nav__link">OS baseline (optional)</a></li><li class="md-nav__item"><a href="../awsVulnerabilities/" title="Vulnerability (optional)" class="md-nav__link">Vulnerability (optional)</a></li><li class="md-nav__item"><a href="../configureCloudneetiAgentInEKS/" title="Amazon Elastic Kubernetes Service (Amazon EKS) (optional)" class="md-nav__link">Amazon Elastic Kubernetes Service (Amazon EKS) (optional)</a></li><li class="md-nav__item"><a href="../awsAccountHealthStatus/" title="AWS onboarding health status" class="md-nav__link">AWS onboarding health status</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3" type="checkbox" id="nav-5-3"><label class="md-nav__link" for="nav-5-3">Microsoft Azure</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-5-3">Microsoft Azure</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../azureSubscriptions/" title="Onboarding steps" class="md-nav__link">Onboarding steps</a></li><li class="md-nav__item"><a href="../grantAccessToAzureSubscriptionAdditionalRoles/" title="Additional roles" class="md-nav__link">Additional roles</a></li><li class="md-nav__item"><a href="../grantAccessToKeyVaults/" title="Key vaults" class="md-nav__link">Key vaults</a></li><li class="md-nav__item"><a href="../azureAdvancedSecurityConfigurations/" title="Advanced security configurations" class="md-nav__link">Advanced security configurations</a></li><li class="md-nav__item"><a href="../enableASCAuditPolicies/" title="Enable ASC audit policies" class="md-nav__link">Enable ASC audit policies</a></li><li class="md-nav__item"><a href="../azureOSBaseline/" title="OS baseline and vulnerability" class="md-nav__link">OS baseline and vulnerability</a></li><li class="md-nav__item"><a href="../azureVulnerability/" title="Vulnerability" class="md-nav__link">Vulnerability</a></li><li class="md-nav__item"><a href="../configureCloudneetiAgentInAKS/" title="Azure Kubernetes Service (AKS)" class="md-nav__link">Azure Kubernetes Service (AKS)</a></li><li class="md-nav__item"><a href="../azureAccountHealthStatus/" title="Azure onboarding health status" class="md-nav__link">Azure onboarding health status</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-4" type="checkbox" id="nav-5-4"><label class="md-nav__link" for="nav-5-4">Google Cloud Platform (Preview)</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-5-4">Google Cloud Platform (Preview)</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../gcpOnboardingOverview/" title="Overview" class="md-nav__link">Overview</a></li><li class="md-nav__item"><a href="../gcpProject/" title="GCP Project" class="md-nav__link">GCP Project</a></li><li class="md-nav__item"><a href="../gcpOrganization/" title="GCP Organization" class="md-nav__link">GCP Organization</a></li><li class="md-nav__item"><a href="../gcpAnnexure/" title="Annexure" class="md-nav__link">Annexure</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-5" type="checkbox" id="nav-5-5"><label class="md-nav__link" for="nav-5-5">Office 365</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-5-5">Office 365</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../office365Subscription/" title="Onboarding steps" class="md-nav__link">Onboarding steps</a></li><li class="md-nav__item"><a href="../office365AccountHealthStatus/" title="Office 365 onboarding health status" class="md-nav__link">Office 365 onboarding health status</a></li><li class="md-nav__item"><a href="../office365AdvanceSecurityConfigurationUpgrade/" title="Upgrade advanced security configurations" class="md-nav__link">Upgrade advanced security configurations</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6"><label class="md-nav__link" for="nav-6">User Guide</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-6">User Guide</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../gettingStarted/signInAndSignOut/" title="Sign In and Sign Out" class="md-nav__link">Sign In and Sign Out</a></li><li class="md-nav__item"><a href="../../userGuide/userInterface/" title="User Interface" class="md-nav__link">User Interface</a></li><li class="md-nav__item"><a href="../../userGuide/dashboards/" title="Dashboards" class="md-nav__link">Dashboards</a></li><li class="md-nav__item"><a href="../../userGuide/securityPolicies/" title="Security Policies" class="md-nav__link">Security Policies</a></li><li class="md-nav__item"><a href="../../userGuide/complianceBenchmarks/" title="Compliance Benchmarks" class="md-nav__link">Compliance Benchmarks</a></li><li class="md-nav__item"><a href="../../userGuide/reports/" title="Reports" class="md-nav__link">Reports</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7"><label class="md-nav__link" for="nav-7">REST APIs</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-7">REST APIs</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../userGuide/restAPIs/" title="Overview" class="md-nav__link">Overview</a></li><li class="md-nav__item"><a href="../../userGuide/apiUserScenarios/" title="API User Scenarios" class="md-nav__link">API User Scenarios</a></li><li class="md-nav__item"><a href="../../userGuide/tokenAPI/" title="Token API" class="md-nav__link">Token API</a></li><li class="md-nav__item"><a href="../../userGuide/getLicenseAccounts/" title="License Accounts API" class="md-nav__link">License Accounts API</a></li><li class="md-nav__item"><a href="../../userGuide/onboardCloudAccount/" title="Onboard cloud account API" class="md-nav__link">Onboard cloud account API</a></li><li class="md-nav__item"><a href="../../userGuide/updateAPIAppAccessScope/" title="Update API app access scope API" class="md-nav__link">Update API app access scope API</a></li><li class="md-nav__item"><a href="../../userGuide/getHealthStatus/" title="Onboarding health status API" class="md-nav__link">Onboarding health status API</a></li><li class="md-nav__item"><a href="../../userGuide/getBenchmarkSummary/" title="Audit summary report API" class="md-nav__link">Audit summary report API</a></li><li class="md-nav__item"><a href="../../userGuide/initiateScanAPI/" title="Initiate scan API" class="md-nav__link">Initiate scan API</a></li><li class="md-nav__item"><a href="../../userGuide/scanStatusAPI/" title="Scan status API" class="md-nav__link">Scan status API</a></li><li class="md-nav__item"><a href="../../userGuide/getSupportedBenchmarks/" title="Get supported benchmarks API" class="md-nav__link">Get supported benchmarks API</a></li><li class="md-nav__item"><a href="../../userGuide/auditReportAPI/" title="Audit report API" class="md-nav__link">Audit report API</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8"><label class="md-nav__link" for="nav-8">Administrator Guide</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-8">Administrator Guide</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../administratorGuide/featuresAndQuotas/" title="Features and Quotas" class="md-nav__link">Features and Quotas</a></li><li class="md-nav__item"><a href="../../administratorGuide/manageLicenses/" title="Integrations" class="md-nav__link">Integrations</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-3" type="checkbox" id="nav-8-3"><label class="md-nav__link" for="nav-8-3">Incident management</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-8-3">Incident management</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../administratorGuide/serviceNowIntegration/" title="Service Now" class="md-nav__link">Service Now</a></li><li class="md-nav__item"><a href="../../administratorGuide/zendeskIntegration/" title="Zendesk" class="md-nav__link">Zendesk</a></li></ul></nav></li><li class="md-nav__item"><a href="../../administratorGuide/azureASCPushIntegration/" title="ASC Push Integration" class="md-nav__link">ASC Push Integration</a></li><li class="md-nav__item"><a href="../../administratorGuide/manageAccounts/" title="Cloud Accounts" class="md-nav__link">Cloud Accounts</a></li><li class="md-nav__item"><a href="../../administratorGuide/manageUsers/" title="Users & Roles" class="md-nav__link">Users & Roles</a></li><li class="md-nav__item"><a href="../../administratorGuide/privateBenchmark/" title="Private Benchmark" class="md-nav__link">Private Benchmark</a></li><li class="md-nav__item"><a href="../../administratorGuide/securityPolicyExclusions/" title="Security Policy Configuration" class="md-nav__link">Security Policy Configuration</a></li><li class="md-nav__item"><a href="../../administratorGuide/overrideSecurityPolicyStatus/" title="Override Security Policy Status" class="md-nav__link">Override Security Policy Status</a></li><li class="md-nav__item"><a href="../../administratorGuide/auditLog/" title="Audit Log" class="md-nav__link">Audit Log</a></li><li class="md-nav__item"><a href="../../administratorGuide/configureCloudneetiAPIAccess/" title="Configure Cloudneeti API Access" class="md-nav__link">Configure Cloudneeti API Access</a></li><li class="md-nav__item"><a href="../../administratorGuide/utilizationDashboard/" title="Utilization Dashboard" class="md-nav__link">Utilization Dashboard</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9"><label class="md-nav__link" for="nav-9">Remediation</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-9">Remediation</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../remediation/overview/" title="Overview" class="md-nav__link">Overview</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-2" type="checkbox" id="nav-9-2"><label class="md-nav__link" for="nav-9-2">Azure</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-9-2">Azure</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../remediation/azureGuidedRemediation/" title="Guided Remediation" class="md-nav__link">Guided Remediation</a></li><li class="md-nav__item"><a href="../../remediation/azureAutoRemediation/" title="Auto Remediation" class="md-nav__link">Auto Remediation</a></li><li class="md-nav__item"><a href="../../remediation/azureDecommissionofRemediation/" title="Decommission of remediation" class="md-nav__link">Decommission of remediation</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-3" type="checkbox" id="nav-9-3"><label class="md-nav__link" for="nav-9-3">AWS</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-9-3">AWS</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../remediation/awsGuidedRemediation/" title="Guided Remediation" class="md-nav__link">Guided Remediation</a></li><li class="md-nav__item"><a href="../../remediation/awsRemediation/" title="Auto Remediation" class="md-nav__link">Auto Remediation</a></li><li class="md-nav__item"><a href="../../remediation/awsDecommissionofRemediation/" title="Decommission Remediation Framework" class="md-nav__link">Decommission Remediation Framework</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10"><label class="md-nav__link" for="nav-10">Quick wins and OS baseline hardening scripts</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-10">Quick wins and OS baseline hardening scripts</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../remediation/overviewQuickWins/" title="Overview" class="md-nav__link">Overview</a></li><li class="md-nav__item"><a href="../../remediation/awsQuickWins/" title="AWS Quick wins" class="md-nav__link">AWS Quick wins</a></li><li class="md-nav__item"><a href="../../remediation/azureQuickWins/" title="Azure Quick Wins" class="md-nav__link">Azure Quick Wins</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-4" type="checkbox" id="nav-10-4"><label class="md-nav__link" for="nav-10-4">OS Hardening for Baseline Configuration</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-10-4">OS Hardening for Baseline Configuration</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../remediation/osBaseline/centOSQuickWins/" title="CentOS Linux 7" class="md-nav__link">CentOS Linux 7</a></li><li class="md-nav__item"><a href="../../remediation/osBaseline/rhelQuickWins/" title="RHEL Linux 7" class="md-nav__link">RHEL Linux 7</a></li><li class="md-nav__item"><a href="../../remediation/osBaseline/win12QuickWins/" title="Windows Server 2012 R2" class="md-nav__link">Windows Server 2012 R2</a></li><li class="md-nav__item"><a href="../../remediation/osBaseline/win16QuickWins/" title="Windows Server 2016" class="md-nav__link">Windows Server 2016</a></li><li class="md-nav__item"><a href="../../remediation/osBaseline/win19QuickWins/" title="Windows Server 2019" class="md-nav__link">Windows Server 2019</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11"><label class="md-nav__link" for="nav-11">Release Notes</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-11">Release Notes</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../releaseNotes/2020/" title="Releases in 2020" class="md-nav__link">Releases in 2020</a></li><li class="md-nav__item"><a href="../../releaseNotes/2019/" title="Releases in 2019" class="md-nav__link">Releases in 2019</a></li></ul></nav></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">In this article</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#21-provision-resources-for-config-based-data-collection-manual" title="2.1 Provision resources for config based data collection (Manual)" class="md-nav__link">2.1 Provision resources for config based data collection (Manual)</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#211-config-set-up" title="2.1.1 Config set-up" class="md-nav__link">2.1.1 Config set-up</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#first-time-configuration" title="First time configuration" class="md-nav__link">First time configuration</a></li><li class="md-nav__item"><a href="#config-is-already-setup" title="Config is already setup" class="md-nav__link">Config is already setup</a></li></ul></nav></li><li class="md-nav__item"><a href="#212-create-config-aggregator" title="2.1.2 Create config Aggregator" class="md-nav__link">2.1.2 Create config Aggregator</a></li></ul></nav></li><li class="md-nav__item"><a href="#21-provision-resources-for-config-based-data-collection-automated" title="2.1 Provision resources for config based data collection (Automated)" class="md-nav__link">2.1 Provision resources for config based data collection (Automated)</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#workstation-readiness" title="Workstation readiness" class="md-nav__link">Workstation readiness</a></li><li class="md-nav__item"><a href="#note" title="Note" class="md-nav__link">Note</a></li><li class="md-nav__item"><a href="#steps" title="Steps" class="md-nav__link">Steps</a></li></ul></nav></li><li class="md-nav__item"><a href="#22-verify-config-related-resources-created-on-aws-portal" title="2.2 Verify Config related resources created on AWS Portal" class="md-nav__link">2.2 Verify Config related resources created on AWS Portal</a></li><li class="md-nav__item"><a href="#23-verify-aggregation-is-completed" title="2.3 Verify Aggregation is completed" class="md-nav__link">2.3 Verify Aggregation is completed</a></li><li class="md-nav__item"><a href="#appendix" title="Appendix" class="md-nav__link">Appendix</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#services-supported-by-aws-config-enabled-data-collection" title="Services supported by AWS Config enabled data collection" class="md-nav__link">Services supported by AWS Config enabled data collection</a></li><li class="md-nav__item"><a href="#generate-aws-account-access-key-id-and-secret" title="Generate AWS account access key id and secret" class="md-nav__link">Generate AWS account access key id and secret</a></li></ul></nav></li><li class="md-nav__item"><a href="#decommission-aws-config" title="Decommission AWS Config" class="md-nav__link">Decommission AWS Config</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#1-disable-aws-config-based-data-collection" title="1. Disable AWS Config Based Data Collection" class="md-nav__link">1. Disable AWS Config Based Data Collection</a></li><li class="md-nav__item"><a href="#2-delete-deployment-bucket" title="2. Delete deployment bucket" class="md-nav__link">2. Delete deployment bucket</a></li><li class="md-nav__item"><a href="#3-execute-decommission-script" title="3. Execute decommission script" class="md-nav__link">3. Execute decommission script</a></li></ul></nav></li></ul></nav></div></div></div><div class="md-content"><article class="md-content__inner md-typeset"><h1 id="step-2-enable-aws-config-based-data-collection-optionalpreview"><strong>STEP 2 : Enable AWS Config based data collection (Optional)</strong>(Preview)</h1>
<p><strong>This step is optional.</strong></p>
<p>Involves enabling AWS Config and setting up Aggregator. This enables you to assess, audit and evaluate configurations of your AWS resources. Using AWS Config APIs, Cloudneeti will now be able to pull out resource configuration metadata at scale. This optional onboarding configuration will be used by default for accounts with larger number of resources.</p>
<p>AWS Data collection and processing mechanisms to use AWS config to support massive scale requirements for the following AWS services <a href="../../onboardingGuide/awsEnableConfigBasedDataCollection/#services-supported-by-aws-config-enabled-data-collection">listed here</a></p>
<h2 id="21-provision-resources-for-config-based-data-collection-manual">2.1 Provision resources for config based data collection (Manual)</h2>
<h3 id="211-config-set-up">2.1.1 Config set-up</h3>
<p>Set-up config in primary region and all other required regions using below steps.</p>
<p>Login to AWS portal with AWS Administrator role.</p>
<ol>
<li>Under <strong>Service</strong>, select <strong>Config</strong></li>
</ol>
<h4 id="first-time-configuration"><strong>First time configuration</strong></h4>
<ol>
<li>
<p>Click <strong>Get Started</strong> </p>
<p><img alt="AWS Config" src="../../images/awsConfig/getting_started.jpg#thumbnail" /></p>
</li>
<li>
<p>Select <strong>Record all resources supported in this region</strong> </p>
</li>
<li>
<p>Include global resources should be checked in any one region (primary region) where the aggregator is planned to be created. </p>
</li>
<li>
<p>Create/select <strong>Amazon S3 bucket</strong> to store config log </p>
</li>
<li>
<p>Choose an existing service role for <strong>AWS Config role</strong></p>
<p><strong>Note</strong> If you are using an already existing bucket, making sure you provide required permissions to the config for the bucket access, using bucket policies</p>
</li>
<li>
<p>Click Next</p>
<p><img alt="AWS Config" src="../../images/awsConfig/config_setup.jpg#thumbnail" /></p>
</li>
<li>
<p><strong>Step 2 : Rules</strong> can be skipped </p>
</li>
<li>
<p>Review details and click <strong>Confirm</strong> </p>
<p><img alt="AWS Config" src="../../images/awsConfig/config_create_reviewscreen.jpg#thumbnail" /></p>
</li>
<li>
<p>Please repeat above steps for rest all regions keeping <strong>Include global resources (e.g., AWS IAM resources)</strong> unchecked in step 3.</p>
</li>
</ol>
<h4 id="config-is-already-setup"><strong>Config is already setup</strong></h4>
<p>If config is already setup, verify and configure below on the config setting page, repeat below steps for all regions.</p>
<ol>
<li>
<p>All resources checkbox is checked in all the regions </p>
</li>
<li>
<p>Include global resources should be checked in any one region (primary region) where the aggregator is planned to be created.</p>
<p><img alt="AWS Config" src="../../images/awsConfig/config_setup.jpg#thumbnail" /></p>
</li>
</ol>
<h3 id="212-create-config-aggregator">2.1.2 Create config Aggregator</h3>
<p>Select a primary region to set up the Aggregator.</p>
<ol>
<li>
<p>Navigate to the config dashboard in primary region</p>
</li>
<li>
<p>In the left navigation pane, click on <strong>Aggregators</strong> (1) and </p>
</li>
<li>
<p>Click <strong>Add Aggregator</strong> (2)</p>
<p><img alt="AWS Config" src="../../images/awsConfig/aggregator.jpg#thumbnail" /></p>
</li>
<li>
<p>Select the check box to <strong>Allow data replication</strong> (1)</p>
</li>
<li>
<p>Enter a suitable <strong>Aggregator name</strong> (2)</p>
</li>
<li>
<p>Select <strong>Add individual account IDs</strong> (3) and add self-account id</p>
<p><img alt="AWS Config" src="../../images/awsConfig/aggregator_setup.jpg#thumbnail" /></p>
</li>
<li>
<p>In <strong>Regions</strong>, select all regions (1) as well as <strong>Include future AWS regions</strong> (2)</p>
</li>
<li>
<p>Click <strong>Save</strong> (3)</p>
<p><img alt="AWS Config" src="../../images/awsConfig/aggregator_setup1.png#thumbnail" /></p>
</li>
</ol>
<h2 id="21-provision-resources-for-config-based-data-collection-automated">2.1 Provision resources for config based data collection (Automated)</h2>
<h4 id="workstation-readiness">Workstation readiness</h4>
<table>
<thead>
<tr>
<th>Activity</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Workstation:</strong> Install AWS Command Line Interface</td>
<td>To install AWS cli follow <a href="https://docs.aws.amazon.com/cli/latest/userguide/install-windows.html" target="_blank">link</a> <strong>AWS Command Line</strong> Interface (CLI) is a unified tool to manage your AWS services.</td>
</tr>
<tr>
<td><strong>Workstation:</strong> download config deployment scripts</td>
<td>Download files for deployment of config and related resources for config based data collection from git <a href="https://github.com/Cloudneeti/docs_cloudneeti/tree/master/scripts/aws-config-onboarding" target="_blank">link</a></td>
</tr>
<tr>
<td><strong>Workstation:</strong> Install serverless npm module</td>
<td>Serverless Framework is a CLI tool to manage AWS deployments. Execute below command to install serverless module, # npm install –g serverless</td>
</tr>
<tr>
<td><strong>Workstation:</strong> Install JQ for bash terminal</td>
<td>Download latest stable version of JQ from <a href="https://stedolan.github.io/jq/" target="_blank">here</a> and install on the workstation</td>
</tr>
</tbody>
</table>
<h3 id="note">Note</h3>
<ul>
<li>
<p>This script will existing setup will be modified in entered regions of the AWS Account. </p>
</li>
<li>
<p>Cloudneeti recommends following <a href="https://aws.amazon.com/blogs/mt/aws-config-best-practices/" target="_blank">AWS Config best practices</a></p>
</li>
<li>
<p>AWS Config aggregation data is subject to delay. For details, please follow <a href="https://docs.aws.amazon.com/config/latest/developerguide/viewing-the-aggregate-dashboard.html" target="_blank">link</a></p>
</li>
</ul>
<h3 id="steps">Steps</h3>
<ol>
<li>Open any terminal which has AWS CLI configured</li>
<li>On terminal navigate to folder location where you cloned the repository <strong>aws-config-onboarding</strong>  </li>
<li>
<p>Type <strong>aws configure</strong> and enter</p>
<p>a.  Account access key id and secret access key generated in <a href=".././awsEnableConfigBasedDataCollection/#generate-aws-account-access-key-id-and-secret" target="_blank">step</a></p>
<p>b.  Default region name(eg. us-east-1).</p>
<p>c.  Default output format as "json" only.</p>
</li>
<li>
<p>To enable Config and Aggregator execute below command</p>
<pre><code>    bash deploy-config.sh -a &lt;AWS-acount-id&gt; -e &lt;Cloudneeti-environment-prefix&gt; -n &lt;Config-aggregator-name&gt; -p &lt;primary-aggregator-region&gt; -s &lt;list of regions(secondary) where config is to enabled&gt;
</code></pre>
<ul>
<li>
<p>(-a)Account Id: 12-digit AWS account Id of the account where you want to deploy AWS Config setup</p>
</li>
<li>
<p>(-e)Environment prefix: Enter any suitable prefix for your deployment</p>
</li>
<li>
<p>(-n)Config Aggregator Name: Suitable name for the config aggregator</p>
</li>
<li>
<p>(-p)Config Aggregator region(primary): Programmatic name of the region where the primary 
config with an aggregator is to be created(eg:us-east-1). 
   <a href="https://aws.amazon.com/about-aws/global-infrastructure/regional-product-services/" target="_blank">AWS Config supported in regions</a>. </p>
</li>
<li>
<p>(-s)Region list(secondary): Comma separated list(with no spaces) of the regions where the config(secondary) is to be enabled(eg: us-east-1,us-east-2)
    <strong>Pass "all" if you want to enable config in all other available regions
    </strong>Pass "na" if you do not want to enable config in any other region</p>
</li>
</ul>
<p><img alt="Create access key" src="../../images/awsConfig/deployScript.png#thumbnail" /></p>
</li>
<li>
<p>Verify script executed successfully</p>
<p><img alt="Create access key" src="../../images/awsConfig/deployScript_Success.png#thumbnail" /></p>
</li>
</ol>
<h2 id="22-verify-config-related-resources-created-on-aws-portal">2.2 Verify Config related resources created on AWS Portal</h2>
<ol>
<li>
<p>Cloudformation stack deployed in all selected regions. </p>
<ul>
<li>Primary region</li>
</ul>
<p><img alt="Primary region stack" src="../../images/awsConfig/stack_primary.png#thumbnail" /></p>
<ul>
<li>Secondary region</li>
</ul>
<p><img alt="Secondary region stack" src="../../images/awsConfig/stack_secondary.png#thumbnail" /></p>
</li>
<li>
<p>S3 Bucket</p>
<p><img alt="S3 Bucket" src="../../images/awsConfig/s3_Bucket.png#thumbnail" /></p>
</li>
<li>
<p>Config service role created <a href="https://console.aws.amazon.com/iam/home?#/policies/arn:aws:iam::aws:policy/service-role/AWSConfigRole$serviceLevelSummary" target="_blank">config-role-<prefix></a></p>
</li>
<li>
<p>Config recording is on primary and secondary regions where the config is enabled</p>
<p><img alt="Config_Primary" src="../../images/awsConfig/Config_Primary.png#thumbnail" /></p>
</li>
<li>
<p>Aggregator is setup in primary region</p>
<p><img alt="aggregation_progress" src="../../images/awsConfig/aggregation_progress.png#thumbnail" /></p>
</li>
</ol>
<h2 id="23-verify-aggregation-is-completed">2.3 Verify Aggregation is completed</h2>
<p>After setup, AWS Config starts aggregating data from the specified regions into an aggregator. It might take a few minutes for Data collection from all source aregions to complete.</p>
<p>Once completed, <a href="../../onboardingGuide/amazonWebServiceAccounts/#step-5-add-aws-account" target="_blank">AWS account onboarding</a> at Cloudneeti can be initiated.</p>
<p><img alt="aggregation_success" src="../../images/awsConfig/aggregation_success.png#thumbnail" /></p>
<h2 id="appendix">Appendix</h2>
<h3 id="services-supported-by-aws-config-enabled-data-collection">Services supported by AWS Config enabled data collection</h3>
<ul>
<li>
<p>Updated AWS Data collection and processing mechanisms to use AWS config to
    support massive scale requirements for the following AWS services.</p>
<ul>
<li>
<p>AWS::EC2::Instance</p>
</li>
<li>
<p>AWS::EC2::Volume</p>
</li>
<li>
<p>AWS::EC2::SecurityGroup</p>
</li>
<li>
<p>AWS::S3::Bucket</p>
</li>
<li>
<p>AWS::CloudFormation::Stack </p>
</li>
<li>
<p>AWS::SNS::Topic</p>
</li>
<li>
<p>AWS::SQS::Queue</p>
</li>
</ul>
</li>
</ul>
<h3 id="generate-aws-account-access-key-id-and-secret">Generate AWS account access key id and secret</h3>
<ol>
<li>
<p>Click <strong>your name</strong> located on the top right navigation pane</p>
</li>
<li>
<p>Select <strong>My Security</strong> Credentials </p>
</li>
<li>
<p><strong>Access key id</strong> is under the section <strong>Access keys for CLI, SDK, &amp; API access</strong></p>
<p><img alt="Create access key" src="../../images/amazonWebServiceAccounts/AWS_Account_Access_Key.png#thumbnail" /></p>
</li>
<li>
<p>If access key secret is not available for this id, please create a new access key by clicking on <strong>Create access key</strong> button.</p>
<p><img alt="Create access key" src="../../images/amazonWebServiceAccounts/Access_Key_Success.png#thumbnail" /></p>
</li>
</ol>
<h2 id="decommission-aws-config">Decommission AWS Config</h2>
<h3 id="1-disable-aws-config-based-data-collection">1. Disable AWS Config Based Data Collection</h3>
<ol>
<li>
<p>Navigate to <strong>Cloud Account</strong> (2) from <strong>Configurations</strong> (1)</p>
<p><img alt="Create access key" src="../../images/awsConfig/CloudAccounts.png#thumbnail" /></p>
</li>
<li>
<p>Select <strong>Update Cloud Account</strong> (3) in <strong>Configure Accounts</strong> (2)</p>
<p><img alt="Create access key" src="../../images/awsConfig/Account_Update.png#thumbnail" /></p>
</li>
<li>
<p>Disable <strong>AWS Config Based Data Collection</strong> (1) and <strong>Save</strong> (2)</p>
<p><img alt="Create access key" src="../../images/awsConfig/Account_Update_Config.png#thumbnail" /></p>
</li>
</ol>
<h3 id="2-delete-deployment-bucket">2. Delete deployment bucket</h3>
<p>Delete config deployment bucket using AWS console. Search for deployment bucket with name <strong>config-bucket</strong> having below tags</p>
<table>
<thead>
<tr>
<th>S. No.</th>
<th>Tag Name</th>
<th>Tag Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>ServiceName</td>
<td>config-bucket</td>
</tr>
<tr>
<td>2</td>
<td>Description</td>
<td>Bucket for config data collection</td>
</tr>
</tbody>
</table>
<h3 id="3-execute-decommission-script">3. Execute decommission script</h3>
<ol>
<li>
<p>Open bash terminal</p>
</li>
<li>
<p>Download files from git <a href="https://github.com/Cloudneeti/docs_cloudneeti/tree/master/scripts/aws-config-onboarding" target="_blank">link</a> </p>
</li>
<li>
<p>Go to config onboarding downloaded directory</p>
<pre><code>cd aws-config-onboarding
</code></pre>
</li>
<li>
<p>Decommission config resources in AWS account </p>
<pre><code>bash decommission-config.sh -a &lt;AWS-acount-id&gt; -e &lt;environment-prefix&gt; -p &lt;primary-aggregator-region&gt;
</code></pre>
<p>(-a)Account Id: 12-digit AWS account Id of the account where you want to delete the AWS Config setup</p>
<p>(-e)Environment prefix: Enter any suitable prefix for your deployment</p>
<p>(-p) Config Aggregator region(primary): Programmatic name of the region where the primary config with an aggregator is to be decommissioned(eg:us-east-1)</p>
</li>
</ol></article></div></div></main><footer class="md-footer"><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class="md-footer-copyright"><div class="md-footer-copyright__highlight">&copy; 2020 Cloudneeti.All Rights Reserved. | <a href="https://www.cloudneeti.com/privacy-policy-2/" target="_blank"> Privacy Policy</a> | <a href="https://www.cloudneeti.com/terms-of-use/" target="_blank"> Terms of Use</a></div></div></div></div></footer>

</div><script src="../../assets/javascripts/application.d5a09f94.js"></script><script>app.initialize({version:"1.1.2",url:{base:"../.."}})</script><script src="../../javascripts/custom.js"></script></body></html>